{"remainingRequest":"/Applications/XAMPP/xamppfiles/htdocs/vuejs-firebase-shopping-cart/node_modules/babel-loader/lib/index.js!/Applications/XAMPP/xamppfiles/htdocs/vuejs-firebase-shopping-cart/node_modules/eslint-loader/index.js??ref--13-0!/Applications/XAMPP/xamppfiles/htdocs/vuejs-firebase-shopping-cart/src/stores/actions.js","dependencies":[{"path":"/Applications/XAMPP/xamppfiles/htdocs/vuejs-firebase-shopping-cart/src/stores/actions.js","mtime":1588175539649},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vuejs-firebase-shopping-cart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vuejs-firebase-shopping-cart/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Applications/XAMPP/xamppfiles/htdocs/vuejs-firebase-shopping-cart/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCBmaXJlYmFzZUF1dGggfSBmcm9tICcuLi9jb25maWcvZmlyZWJhc2VDb25maWcnOwpleHBvcnQgdmFyIHVwZGF0ZUNhcnQgPSBmdW5jdGlvbiB1cGRhdGVDYXJ0KF9yZWYsIF9yZWYyKSB7CiAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogIHZhciBpdGVtID0gX3JlZjIuaXRlbSwKICAgICAgcXVhbnRpdHkgPSBfcmVmMi5xdWFudGl0eSwKICAgICAgaXNBZGQgPSBfcmVmMi5pc0FkZDsKICAvLyBUT0RPOiBDYWxsIHNlcnZpY2UKICBjb21taXQoJ1VQREFURV9DQVJUJywgewogICAgaXRlbTogaXRlbSwKICAgIHF1YW50aXR5OiBxdWFudGl0eSwKICAgIGlzQWRkOiBpc0FkZAogIH0pOwoKICBpZiAoaXNBZGQpIHsKICAgIHZhciBtZXNzYWdlX29iaiA9IHsKICAgICAgbWVzc2FnZTogIkFkZCAiLmNvbmNhdChpdGVtLnRpdGxlLCAiIHRvIGNhcnQgc3VjY2Vzc2Z1bGx5IiksCiAgICAgIG1lc3NhZ2VDbGFzczogInN1Y2Nlc3MiLAogICAgICBhdXRvQ2xvc2U6IHRydWUKICAgIH07CiAgICBjb21taXQoJ0FERF9NRVNTQUdFJywgbWVzc2FnZV9vYmopOwogIH0KfTsKZXhwb3J0IHZhciByZW1vdmVJdGVtSW5DYXJ0ID0gZnVuY3Rpb24gcmVtb3ZlSXRlbUluQ2FydChfcmVmMywgX3JlZjQpIHsKICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogIHZhciBpdGVtID0gX3JlZjQuaXRlbTsKICBjb21taXQoJ1JFTU9WRV9DQVJUX0lURU0nLCB7CiAgICBpdGVtOiBpdGVtCiAgfSk7Cn07CmV4cG9ydCB2YXIgcmVnaXN0ZXJCeUVtYWlsID0gZnVuY3Rpb24gcmVnaXN0ZXJCeUVtYWlsKF8sIF9yZWY1KSB7CiAgdmFyIGVtYWlsID0gX3JlZjUuZW1haWwsCiAgICAgIHBhc3N3b3JkID0gX3JlZjUucGFzc3dvcmQ7CiAgcmV0dXJuIGZpcmViYXNlQXV0aCgpLmNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpOwp9OwpleHBvcnQgdmFyIGxvZ291dCA9IGZ1bmN0aW9uIGxvZ291dChfcmVmNikgewogIHZhciBjb21taXQgPSBfcmVmNi5jb21taXQ7CiAgY29tbWl0KCdTRVRfQ0FSVCcsIFtdKTsgLy8gY2xlYXIgY3VycmVudCBjYXJ0CgogIHJldHVybiBmaXJlYmFzZUF1dGgoKS5zaWduT3V0KCk7Cn07CmV4cG9ydCBmdW5jdGlvbiBsb2dpbldpdGhFbWFpbChfLCBfcmVmNykgewogIHZhciBlbWFpbCA9IF9yZWY3LmVtYWlsLAogICAgICBwYXNzd29yZCA9IF9yZWY3LnBhc3N3b3JkOwogIHJldHVybiBmaXJlYmFzZUF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpOwp9CmV4cG9ydCBmdW5jdGlvbiBsaXN0ZW5Ub1Byb2R1Y3RMaXN0KF9yZWY4KSB7CiAgdmFyIGNvbW1pdCA9IF9yZWY4LmNvbW1pdDsKICByZXR1cm4gcmVmLmNoaWxkKCJwcm9kdWN0cyIpLm9uKCd2YWx1ZScsIGZ1bmN0aW9uIChwcm9kdWN0cykgewogICAgY29tbWl0KCdVUERBVEVfUFJPRFVDVF9MSVNUJywgcHJvZHVjdHMudmFsKCkpOwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRTaG9wcGluZ0NhcnQoX3JlZjksIF9yZWYxMCkgewogIHZhciBjb21taXQgPSBfcmVmOS5jb21taXQ7CiAgdmFyIHVpZCA9IF9yZWYxMC51aWQsCiAgICAgIGN1cnJlbnRDYXJ0ID0gX3JlZjEwLmN1cnJlbnRDYXJ0OwoKICBpZiAodWlkKSB7CiAgICByZXR1cm4gcmVmLmNoaWxkKCJjYXJ0LyIgKyB1aWQpLm9uY2UoJ3ZhbHVlJykudGhlbihmdW5jdGlvbiAoY2FydCkgewogICAgICAvLyBjb25zb2xlLmxvZyhjYXJ0LnZhbCgpKTsKICAgICAgaWYgKGNhcnQudmFsKCkgJiYgKCFjdXJyZW50Q2FydCB8fCBjdXJyZW50Q2FydC5sZW5ndGggPT0gMCkpIHsKICAgICAgICBjb21taXQoJ1NFVF9DQVJUJywgY2FydC52YWwoKSk7CiAgICAgIH0KICAgIH0pOwogIH0gZWxzZSB7Ly8gY29uc29sZS5sb2coIlVzZXIgaGFzIG5vdCBsb2dnZWQgaW4iKTsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIHNhdmVTaG9wcGluZ0NhcnQoXywgX3JlZjExKSB7CiAgdmFyIHVpZCA9IF9yZWYxMS51aWQsCiAgICAgIGNhcnRJdGVtTGlzdCA9IF9yZWYxMS5jYXJ0SXRlbUxpc3Q7CiAgLy8gY29uc29sZS5sb2coIkFDVElPTlMgc2F2ZVNob3BwaW5nQ2FydCIpOwogIC8vIGNvbnNvbGUubG9nKCJDQVJUIERBVEEiLCBjYXJ0SXRlbUxpc3QpOwogIHJldHVybiByZWYuY2hpbGQoImNhcnQvIiArIHVpZCkuc2V0KGNhcnRJdGVtTGlzdCk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNhdmVUb1RyYW5zYWN0aW9uKF8sIF9yZWYxMikgewogIHZhciB1aWQgPSBfcmVmMTIudWlkLAogICAgICBjYXJ0SXRlbUxpc3QgPSBfcmVmMTIuY2FydEl0ZW1MaXN0OwogIHZhciBuZXdUcmFuc2FjdGlvbktleSA9IHJlZi5jaGlsZCgidHJhbnNhY3Rpb25zIikucHVzaCgpLmtleTsKICB2YXIgbmV3VHJhbnNhY3Rpb24gPSB7fTsKICBuZXdUcmFuc2FjdGlvblsnL3RyYW5zYWN0aW9ucy8nICsgdWlkICsgJy8nICsgbmV3VHJhbnNhY3Rpb25LZXldID0gY2FydEl0ZW1MaXN0OwogIHJldHVybiByZWYudXBkYXRlKG5ld1RyYW5zYWN0aW9uKTsKfQ=="},{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/vuejs-firebase-shopping-cart/src/stores/actions.js"],"names":["ref","firebaseAuth","updateCart","commit","item","quantity","isAdd","message_obj","message","title","messageClass","autoClose","removeItemInCart","registerByEmail","_","email","password","createUserWithEmailAndPassword","logout","signOut","loginWithEmail","signInWithEmailAndPassword","listenToProductList","child","on","products","val","getShoppingCart","uid","currentCart","once","then","cart","length","saveShoppingCart","cartItemList","set","saveToTransaction","newTransactionKey","push","key","newTransaction","update"],"mappings":"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","sourcesContent":["import { ref, firebaseAuth } from '../config/firebaseConfig';\n\nexport const updateCart = ({\n  commit\n}, {item, quantity, isAdd}) => {\n  // TODO: Call service\n  commit('UPDATE_CART', {item, quantity, isAdd});\n  if (isAdd) {\n    let message_obj = {\n      message: `Add ${item.title} to cart successfully`,\n      messageClass: \"success\",\n      autoClose: true\n    }\n    commit('ADD_MESSAGE', message_obj);\n  }\n}\n\nexport const removeItemInCart = ({commit}, {item}) => {\n\tcommit('REMOVE_CART_ITEM', {item});\n}\n\nexport const registerByEmail = (_, {email, password}) => {\n\treturn firebaseAuth().createUserWithEmailAndPassword(email, password);\n}\n\nexport const logout = ({commit}) => {\n  commit('SET_CART', []); // clear current cart\n  return firebaseAuth().signOut();\n}\n\nexport function loginWithEmail (_, {email, password}) {\n  return firebaseAuth().signInWithEmailAndPassword(email, password);\n}\n\nexport function listenToProductList({commit}) {\n\treturn ref.child(\"products\").on('value', (products) => {\n\t\tcommit('UPDATE_PRODUCT_LIST', products.val());\n\t});\n}\n\nexport function getShoppingCart({commit}, {uid, currentCart}) {\n\tif (uid) {\n\t\treturn ref.child(\"cart/\" + uid).once('value').then((cart) => {\n\t\t\t// console.log(cart.val());\n\t\t\tif (cart.val() && (!currentCart || currentCart.length == 0)) {\n\t\t\t\tcommit('SET_CART', cart.val());\n\t\t\t}\n\t\t});\n\t} else {\n\t\t// console.log(\"User has not logged in\");\n\t}\n}\n\nexport function saveShoppingCart(_, {uid, cartItemList}) {\n\t// console.log(\"ACTIONS saveShoppingCart\");\n\t// console.log(\"CART DATA\", cartItemList);\n\treturn ref.child(\"cart/\" + uid).set(cartItemList);\n}\n\nexport function saveToTransaction(_, {uid, cartItemList}) {\n\tlet newTransactionKey = ref.child(\"transactions\").push().key;\n\tvar newTransaction = {}\n\tnewTransaction['/transactions/' + uid + '/' + newTransactionKey] = cartItemList;\n\treturn ref.update(newTransaction);\n}\n"]}]}